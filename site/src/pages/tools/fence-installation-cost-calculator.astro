---
import ToolLayout from '../../components/ToolLayout.astro';
---
<ToolLayout title="Fence Installation Cost Calculator" description="Estimate fence installation costs by material, length, and height." icon="ðŸ—ï¸" category="Cost Estimators" categorySlug="cost-estimators">
  <div slot="calculator">
    <div class="grid md:grid-cols-2 gap-6">
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Total Length (linear ft)</label><input type="number" id="len" value="150" min="1" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35] focus:border-transparent" /></div>
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Fence Height</label>
        <select id="height" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35]">
          <option value="0.8">4 ft</option>
          <option value="1.0" selected>6 ft (standard privacy)</option>
          <option value="1.2">8 ft</option>
        </select>
      </div>
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Material</label>
        <select id="mat" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35]">
          <option value="15,25" selected>Wood (pine/cedar) â€” $15-25/ft</option>
          <option value="20,35">Vinyl/PVC â€” $20-35/ft</option>
          <option value="25,45">Composite â€” $25-45/ft</option>
          <option value="25,50">Aluminum â€” $25-50/ft</option>
          <option value="30,60">Wrought Iron â€” $30-60/ft</option>
          <option value="8,15">Chain Link â€” $8-15/ft</option>
        </select>
      </div>
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Gates</label>
        <select id="gates" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35]">
          <option value="0">None</option>
          <option value="1" selected>1 walk gate</option>
          <option value="2">2 walk gates</option>
          <option value="3">1 walk + 1 double/drive gate</option>
        </select>
      </div>
    </div>
    <button onclick="calc()" class="mt-6 bg-[#FF6B35] hover:bg-[#e55a2b] text-white font-semibold px-8 py-3 rounded-lg transition-colors w-full md:w-auto">Estimate Fence Cost</button>
    <div id="result" class="mt-6 hidden"><div class="bg-[#1B4965]/5 rounded-xl p-6"><h3 class="font-bold text-[#1B4965] text-lg mb-3">Estimated Fence Cost</h3><div id="res"></div></div></div>
  </div>
  <Fragment slot="content">
    <h2>Fence Costs by Material</h2>
    <p>A 150-foot wood privacy fence typically costs <strong>$2,500-$4,500 installed</strong>. Vinyl and metal fences cost more upfront but require less maintenance.</p>
    <h2>DIY vs Professional Installation</h2>
    <p>Fence installation is a popular DIY project. Hiring pros costs about $5-15/ft more for labor, but ensures proper post depth and alignment.</p>
  </Fragment>
</ToolLayout>
<script is:inline>
function calc(){
  const len=parseFloat(document.getElementById('len').value);
  const hm=parseFloat(document.getElementById('height').value);
  const [lo,hi]=document.getElementById('mat').value.split(',').map(Number);
  const gc=[0,300,600,1200];const gatesCost=gc[parseInt(document.getElementById('gates').value)];
  const costLow=Math.round(len*lo*hm+gatesCost);const costHigh=Math.round(len*hi*hm+gatesCost);
  const posts=Math.ceil(len/8)+1;
  document.getElementById('result').classList.remove('hidden');
  document.getElementById('res').innerHTML=`
    <div class="text-center mb-4"><div class="text-4xl font-bold text-[#FF6B35]">$${costLow.toLocaleString()} â€“ $${costHigh.toLocaleString()}</div><div class="text-sm text-gray-500">Installed cost estimate</div></div>
    <div class="grid sm:grid-cols-3 gap-4">
      <div class="text-center"><div class="text-lg font-bold text-[#1B4965]">${len} ft</div><div class="text-xs text-gray-500">Total Length</div></div>
      <div class="text-center"><div class="text-lg font-bold text-[#1B4965]">${posts}</div><div class="text-xs text-gray-500">Posts Needed</div></div>
      <div class="text-center"><div class="text-lg font-bold text-[#1B4965]">$${gatesCost}</div><div class="text-xs text-gray-500">Gate Cost</div></div>
    </div>`;
}
</script>

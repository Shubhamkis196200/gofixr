---
import ToolLayout from '../../components/ToolLayout.astro';
---
<ToolLayout title="Roof Replacement Cost Calculator" description="Estimate roof replacement costs by material type, roof size, and pitch." icon="üè†" category="Cost Estimators" categorySlug="cost-estimators">
  <div slot="calculator">
    <div class="grid md:grid-cols-2 gap-6">
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Roof Area (sq ft)</label><input type="number" id="area" value="1500" min="100" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35] focus:border-transparent" /><p class="text-xs text-gray-400 mt-1">Tip: footprint √ó pitch factor. Average home: 1,500-2,500 sq ft</p></div>
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Roofing Material</label>
        <select id="mat" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35]">
          <option value="3.50,5.50">Asphalt 3-Tab ($3.50-5.50/sqft)</option>
          <option value="4.50,7.00" selected>Architectural Shingles ($4.50-7/sqft)</option>
          <option value="7.00,12.00">Metal Standing Seam ($7-12/sqft)</option>
          <option value="10.00,20.00">Clay/Concrete Tile ($10-20/sqft)</option>
          <option value="15.00,30.00">Slate ($15-30/sqft)</option>
          <option value="5.00,8.00">Wood Shake ($5-8/sqft)</option>
        </select>
      </div>
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Roof Pitch</label>
        <select id="pitch" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35]">
          <option value="0">Low (4/12 or less) ‚Äî no extra</option>
          <option value="0.10" selected>Medium (5/12 to 8/12) ‚Äî +10%</option>
          <option value="0.25">Steep (9/12 to 12/12) ‚Äî +25%</option>
          <option value="0.40">Very Steep (12/12+) ‚Äî +40%</option>
        </select>
      </div>
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Layers to Remove</label>
        <select id="layers" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35]">
          <option value="0">None (new construction)</option>
          <option value="1" selected>1 layer (standard tear-off)</option>
          <option value="2">2 layers (+$0.50-1/sqft)</option>
        </select>
      </div>
    </div>
    <button onclick="calc()" class="mt-6 bg-[#FF6B35] hover:bg-[#e55a2b] text-white font-semibold px-8 py-3 rounded-lg transition-colors w-full md:w-auto">Estimate Roof Cost</button>
    <div id="result" class="mt-6 hidden"><div class="bg-[#1B4965]/5 rounded-xl p-6"><h3 class="font-bold text-[#1B4965] text-lg mb-3">Estimated Roof Replacement Cost</h3><div id="res"></div></div></div>
  </div>
  <Fragment slot="content">
    <h2>Roof Replacement Costs by Material</h2>
    <p>The national average for a full roof replacement is <strong>$8,000-$15,000</strong> for a standard home with architectural shingles. The cost per square (100 sq ft) varies widely by material.</p>
    <h2>Factors That Affect Roof Cost</h2>
    <ul>
      <li><strong>Roof pitch</strong>: Steeper roofs cost 10-40% more due to safety equipment and slower work</li>
      <li><strong>Tear-off layers</strong>: Each additional layer adds $0.50-1.00 per sq ft</li>
      <li><strong>Chimneys, skylights, vents</strong>: Extra flashing work adds $200-500 each</li>
      <li><strong>Location</strong>: Coastal and high-wind areas require hurricane-rated materials</li>
    </ul>
    <p>‚ö†Ô∏è <strong>Roofing is a professional job.</strong> Falls are the #1 cause of construction fatalities. Always hire licensed, insured roofers.</p>
  </Fragment>
</ToolLayout>
<script is:inline>
function calc(){
  const area=parseFloat(document.getElementById('area').value);
  const [low,high]=document.getElementById('mat').value.split(',').map(Number);
  const pitchExtra=parseFloat(document.getElementById('pitch').value);
  const layers=parseInt(document.getElementById('layers').value);
  const tearOff=layers*0.75;
  const costLow=Math.round(area*(low+tearOff)*(1+pitchExtra));
  const costHigh=Math.round(area*(high+tearOff)*(1+pitchExtra));
  const squares=(area/100).toFixed(1);
  document.getElementById('result').classList.remove('hidden');
  document.getElementById('res').innerHTML=`
    <div class="text-center mb-4"><div class="text-4xl font-bold text-[#FF6B35]">$${costLow.toLocaleString()} ‚Äì $${costHigh.toLocaleString()}</div><div class="text-sm text-gray-500 mt-1">Estimated total cost</div></div>
    <div class="grid sm:grid-cols-3 gap-4 mt-4">
      <div class="text-center"><div class="text-lg font-bold text-[#1B4965]">${squares}</div><div class="text-xs text-gray-500">Roofing Squares</div></div>
      <div class="text-center"><div class="text-lg font-bold text-[#1B4965]">$${(costLow/area*100).toFixed(0)}-$${(costHigh/area*100).toFixed(0)}</div><div class="text-xs text-gray-500">Per Square (100 sqft)</div></div>
      <div class="text-center"><div class="text-lg font-bold text-[#1B4965]">${layers>0?'Yes':'No'}</div><div class="text-xs text-gray-500">Tear-Off Included</div></div>
    </div>`;
}
</script>

---
import ToolLayout from '../../components/ToolLayout.astro';
---
<ToolLayout title="Window Replacement Cost Calculator" description="Estimate window replacement costs by type, size, and number of windows." icon="ðŸªŸ" category="Cost Estimators" categorySlug="cost-estimators">
  <div slot="calculator">
    <div class="grid md:grid-cols-2 gap-6">
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Number of Windows</label><input type="number" id="qty" value="5" min="1" max="50" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35] focus:border-transparent" /></div>
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Window Type</label>
        <select id="type" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35]">
          <option value="200,500">Single-Hung Vinyl ($200-500)</option>
          <option value="300,700" selected>Double-Hung Vinyl ($300-700)</option>
          <option value="400,900">Double-Hung Wood ($400-900)</option>
          <option value="350,800">Casement ($350-800)</option>
          <option value="250,600">Sliding ($250-600)</option>
          <option value="500,1500">Bay/Bow ($500-1,500)</option>
          <option value="300,800">Awning ($300-800)</option>
        </select>
      </div>
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Glass Type</label>
        <select id="glass" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35]">
          <option value="1.0" selected>Double-pane (standard)</option>
          <option value="1.25">Triple-pane (+25%)</option>
          <option value="1.15">Low-E coating (+15%)</option>
          <option value="1.40">Triple-pane + Low-E (+40%)</option>
        </select>
      </div>
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Installation Type</label>
        <select id="install" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35]">
          <option value="150,300" selected>Retrofit/Pocket ($150-300 labor ea)</option>
          <option value="300,600">Full-Frame Replacement ($300-600 labor ea)</option>
          <option value="500,1000">New Construction ($500-1000 labor ea)</option>
        </select>
      </div>
    </div>
    <button onclick="calc()" class="mt-6 bg-[#FF6B35] hover:bg-[#e55a2b] text-white font-semibold px-8 py-3 rounded-lg transition-colors w-full md:w-auto">Estimate Window Cost</button>
    <div id="result" class="mt-6 hidden"><div class="bg-[#1B4965]/5 rounded-xl p-6"><h3 class="font-bold text-[#1B4965] text-lg mb-3">Window Replacement Cost Estimate</h3><div id="res"></div></div></div>
  </div>
  <Fragment slot="content">
    <h2>Window Replacement Costs</h2>
    <p>The average window replacement costs <strong>$400-$1,200 per window installed</strong>. A full-house replacement (10-15 windows) typically runs $5,000-$15,000.</p>
    <h2>Energy Savings</h2>
    <p>ENERGY STAR windows can save <strong>$125-$465 per year</strong> on energy bills. The federal tax credit covers 30% of the cost (up to $600) for qualifying windows.</p>
  </Fragment>
</ToolLayout>
<script is:inline>
function calc(){
  const qty=parseInt(document.getElementById('qty').value);
  const[wLo,wHi]=document.getElementById('type').value.split(',').map(Number);
  const glass=parseFloat(document.getElementById('glass').value);
  const[iLo,iHi]=document.getElementById('install').value.split(',').map(Number);
  const perLo=Math.round(wLo*glass+iLo);const perHi=Math.round(wHi*glass+iHi);
  const totalLo=perLo*qty;const totalHi=perHi*qty;
  document.getElementById('result').classList.remove('hidden');
  document.getElementById('res').innerHTML=`
    <div class="text-center mb-4"><div class="text-4xl font-bold text-[#FF6B35]">$${totalLo.toLocaleString()} â€“ $${totalHi.toLocaleString()}</div><div class="text-sm text-gray-500">${qty} windows total</div></div>
    <div class="grid sm:grid-cols-2 gap-4">
      <div class="text-center"><div class="text-lg font-bold text-[#1B4965]">$${perLo}-$${perHi}</div><div class="text-xs text-gray-500">Per Window (installed)</div></div>
      <div class="text-center"><div class="text-lg font-bold text-[#2D936C]">Up to $600</div><div class="text-xs text-gray-500">Federal Tax Credit</div></div>
    </div>`;
}
</script>

---
import ToolLayout from '../../components/ToolLayout.astro';
---
<ToolLayout title="Electrical Work Cost Calculator" description="Estimate costs for common electrical repairs and installations." icon="⚡" category="Cost Estimators" categorySlug="cost-estimators">
  <div slot="calculator">
    <div class="grid md:grid-cols-2 gap-6">
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Service Type</label>
        <select id="svc" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35]">
          <option value="150,350">Outlet/Switch Replacement</option>
          <option value="200,500">New Outlet Installation</option>
          <option value="150,400">Light Fixture Installation</option>
          <option value="300,800">Ceiling Fan Install (new wiring)</option>
          <option value="200,600">GFCI Outlet Installation</option>
          <option value="175,500">Dimmer Switch Install</option>
          <option value="1500,4000">Panel Upgrade (100→200 amp)</option>
          <option value="500,1500">Circuit Breaker Replacement</option>
          <option value="800,2500">Whole-House Surge Protector</option>
          <option value="1000,3000">EV Charger Installation</option>
          <option value="500,2000">Outdoor/Landscape Lighting</option>
          <option value="200,800">Smoke/CO Detector Wiring</option>
        </select>
      </div>
      <div><label class="block text-sm font-semibold text-[#1B4965] mb-1">Number of Units/Locations</label><input type="number" id="qty" value="1" min="1" max="20" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#FF6B35] focus:border-transparent" /></div>
    </div>
    <div class="mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700">⚠️ <strong>Electrical work requires a licensed electrician in most jurisdictions.</strong> DIY electrical work can cause fires, electrocution, and void your insurance.</div>
    <button onclick="calc()" class="mt-4 bg-[#FF6B35] hover:bg-[#e55a2b] text-white font-semibold px-8 py-3 rounded-lg transition-colors w-full md:w-auto">Estimate Cost</button>
    <div id="result" class="mt-6 hidden"><div class="bg-[#1B4965]/5 rounded-xl p-6"><h3 class="font-bold text-[#1B4965] text-lg mb-3">Electrical Work Cost Estimate</h3><div id="res"></div></div></div>
  </div>
  <Fragment slot="content">
    <h2>Electrician Rates</h2>
    <p>Licensed electricians charge <strong>$75-150 per hour</strong> with a typical $50-100 service call fee. Most small jobs (outlet, switch) take 30 min to 1 hour per unit; multiple units on the same visit are cheaper per unit.</p>
    <h2>When You MUST Hire an Electrician</h2>
    <ul>
      <li>Panel upgrades or circuit additions</li>
      <li>Any new wiring runs</li>
      <li>Work requiring permits (most electrical work)</li>
      <li>Anything involving 240V circuits (dryers, ranges, EV chargers)</li>
    </ul>
  </Fragment>
</ToolLayout>
<script is:inline>
function calc(){
  const[lo,hi]=document.getElementById('svc').value.split(',').map(Number);
  const qty=parseInt(document.getElementById('qty').value);
  // Discount for multiple units (20% off per additional unit)
  const multi=qty===1?1:1+(qty-1)*0.8;
  const costLo=Math.round(lo*multi);const costHi=Math.round(hi*multi);
  document.getElementById('result').classList.remove('hidden');
  document.getElementById('res').innerHTML=`
    <div class="text-center"><div class="text-4xl font-bold text-[#FF6B35]">$${costLo.toLocaleString()} – $${costHi.toLocaleString()}</div><div class="text-sm text-gray-500 mt-1">${qty} unit${qty>1?'s':''} — ${qty>1?'multi-unit discount applied':'single unit'}</div></div>`;
}
</script>
